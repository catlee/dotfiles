---
- hosts: all

  name: manage the dotfiles 

  tasks:
      - include: vim.yml

      - name: oh-my-zsh
        git: repo=git://github.com/robbyrussell/oh-my-zsh.git dest={{HOME}}/.oh-my-zsh update=no

      - name: i3_dir
        file: dest={{HOME}}/.i3 state=directory

      - name: symlinks
        file: src={{DOTFILES}}/{{item.src}} dest={{HOME}}/{{item.dest}} state=link
        with_items:
            - {src: aliases, dest: .aliases}
            - {src: xmodmap, dest: .xmodmap}
            - {src: i3_config, dest: .i3/config}
            - {src: zshrc, dest: .zshrc}
            - {src: gitconfig, dest: .gitconfig}

- include: mozilla.yml
